<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Happy Birthday üíó</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Playfair+Display:ital,wght@0,700;1,700&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      height: 100vh;
      background: #ffe6f0;
      font-family: 'Fredoka', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    .wrapper {
      width: 100%;
      max-width: 390px;
      height: 100vh;
      background-image: url("https://i.ibb.co.com/20QhG45Q/tikcing.jpg");
      background-size: cover;
      background-position: center;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: background-image 1s ease-in-out;
    }

    .progress-bar {
      position: absolute;
      top: 0; left: 0;
      height: 4px;
      background: #ff007f;
      z-index: 9999;
      transition: width 0.3s ease;
      width: 0%;
    }

    .bg-overlay {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0); 
      transition: background 1s;
      pointer-events: none;
      z-index: 1;
    }
  
    .wrapper.surat-active {
      background-image: url("https://i.ibb.co.com/0jdF5W6J/kita.gif") !important;
    }
    .wrapper.surat-active .bg-overlay {
      background: rgba(0, 0, 0, 0.4);
    }

    .hidden { display: none !important; }

    .center-box {
    text-align: center;
      z-index: 10;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .center-box p {
      margin-top: 20px;
      background: rgba(255, 255, 255, 0.5);
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 14px;
    }

    .big {
      font-size: 90px;
      animation: bounce 1.5s infinite;
      cursor: pointer;
      user-select: none;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
    }

    .slide {
      position: absolute;
      top: 0; left: 0;
      width: calc(100% - 40px);
      height: calc(100% - 40px);
      margin: 20px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      opacity: 0;
      visibility: hidden;
      transform: translateY(40px);
      transition: all 0.8s ease;
      padding: 30px;
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border-radius: 20px;
      border: 2px solid #ff007f;
      z-index: 5;
    }

    .slide.active { opacity: 1; visibility: visible; transform: translateY(0); }

    .scroll-slide {
      justify-content: flex-start !important;
      overflow-y: auto !important;
      display: flex !important;
      flex-direction: column;
      align-items: center;
      padding-top: 80px !important;
      padding-bottom: 120px !important;
      background: rgba(255, 255, 255, 0.100) !important;
    }

    .scroll-slide::-webkit-scrollbar { display: none; }

    h1, h2, h3, h4, h5 {
      color: #ff007f !important; 
      margin: 10px 0; 
      text-shadow: 1px 1px 0px #fff, 2px 2px 4px rgba(0,0,0,0.1); 
    }
    
    p {
      font-family: 'Quicksand', sans-serif;
      color: #ff007f !important;
      font-weight: 600;
      line-height: 1.6;
    }

    .kitty { width: 120px; margin: 15px 0; }

    .btn-container { display: flex; gap: 15px; margin-top: 20px; }
    .btn {
      padding: 10px 25px;
      border-radius: 20px;
      border: none;
      cursor: pointer;
      font-family: 'Fredoka', sans-serif;
      font-weight: 600;
      transition: 0.2s;
    }
    .btn-yes { background: #ff4f9a; color: white; }
    .btn-no { background: white; color: #ff4f9a; border: 2px solid #ff4f9a; }
    .btn:active { transform: scale(0.9); }

    .letter-open-anim { animation: letterOpen 1s ease-in-out forwards; }
    @keyframes letterOpen {
      0% { transform: scale(1); opacity: 1; }
      100% { transform: scale(4); opacity: 0; }
    }

    .golden-ticket {
      background: linear-gradient(135deg, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
      width: 310px;
      padding: 12px;
      position: relative;
      transform: scale(0) rotate(0deg);
      transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      z-index: 100;
      box-shadow: 0 20px 50px rgba(0,0,0,0.4);
      
      --mask: radial-gradient(10px at 10px 10px, #0000 98%, #000) -10px -10px;
      -webkit-mask: var(--mask);
      mask: var(--mask);
    }
    
    .golden-ticket.show { transform: scale(1) rotate(-1deg); }

    .ticket-content {
      border: 1.5px solid rgba(93, 64, 55, 0.2);
      padding: 25px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 5px;
    }

    .ticket-content h2 {
      font-family: 'Playfair Display', serif;
      font-size: 26px;
      font-style: italic;
      letter-spacing: 1px;
      margin: 0;
      color: #5d4037 !important;
      text-shadow: none !important;
    }

    .ticket-content p {
      font-family: 'Quicksand', sans-serif;
      text-transform: uppercase;
      letter-spacing: 2px;
      font-size: 10px;
      margin: 10px 0;
      color: #5d4037 !important;
      text-shadow: none !important;
    }

    .confetti { position: fixed; z-index: 9999; pointer-events: none; }

    .heart {
      position: fixed; bottom: -20px; color: #ff6fb1;
      font-size: 18px; z-index: 0; pointer-events: none;
      animation: floatUp linear forwards;
    }
    @keyframes floatUp { to { transform: translateY(-110vh) rotate(360deg); opacity: 0; } }

    .tap-hint {
      font-size: 12px;
      color: #ff77b7;
      animation: blink 1.4s infinite;
      background: rgba(255, 255, 255, 0.4);
      padding: 5px 15px;
      border-radius: 20px;
    }

    @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
  </style>
</head>
<body>

<div class="progress-bar" id="progressBar"></div>

<div class="wrapper" id="mainWrapper">
  <div class="bg-overlay"></div>

  <div id="letter" class="center-box">
    <div class="big" onclick="openLetter()">üíå</div>
    <p>tap to open my special letter</p>
  </div>

  <div id="slides" class="hidden" onclick="handleTap(event)">
    <div class="slide active">
      <img src="https://i.ibb.co.com/Nd607P5m/nyantai.gif" class="kitty">
      <h1>HEYYOW BABYY</h1>
      <p>I've got something special for u and i'm sure you'll like it üíó</p>
    </div>

    <div class="slide">
      <h2>üíó OPENING LETTER üíó</h2>
      <img src="https://i.ibb.co.com/nqHLkBhD/pocoyo.gif" class="kitty">
      <p>Even the content may be simple, I want you to know that you're the only reason i make this. Finally the hard work for several days paid off, im so excited to make this for you. Thank you so much for exist in this world, coming into my life and choosing me as your boyfie. Thank you also for being my someone special who made me want to learn so far. üíñ</p>
    </div>

    <div class="slide" onclick="event.stopPropagation()">
      <img src="https://i.ibb.co.com/n8PdnxvM/tepuk.gif" class="kitty">
      <h3>Are youu ready babyy? ü§î</h3>
      <div class="btn-container">
        <button class="btn btn-yes" onclick="jumpToSurat()">YUPS more than ready hihi..</button>
        <button class="btn btn-no" onclick="nextSlide()">Hump No!</button>
      </div>
    </div>

    <div class="slide" onclick="event.stopPropagation()">
      <img src="https://i.ibb.co.com/gLmPgBSz/kiss.gif" class="kitty">
      <h3>utututu are you okey my cutie baby</h3>
      <p>its okey baby im here for you, lemme hug you</p>
      <p>feels better baby?</p>
      <button class="btn btn-yes" onclick="prevSlide()">YESS, mwehehe tencuu babyy..</button>
    </div>

    <div class="slide scroll-slide" onclick="event.stopPropagation()">
      <div style="width: 100%; max-width: 300px;">
        <h3>üéÄITS YOUR SPECIAL DAYüéÄ</h3>
        <p>Happy birthday, honey! I'm so happy to celebrate your birthday this year, and hopefully in the next few years we can do the same. Many good wishes that I always wish for you, especially true happiness for you.</p>
        <p>Thank you, darling, for being in my life and giving me such beautiful colors. From you, I learned so much about understanding, loving, cherishing, longing, happiness, beauty, fear of loss and more that I can't name all. I hope you are always given a long life, a blessed life, smoothness in all matters, loved by many people for no reason, and can realize our dreams together.</p>
        <p>I will always support you with all my heart, whatever it is. I will always encourage you, be by your side, comfort you when sad, make you happy, and love you sincerely. You really deserve all of that. I know you always fight hard despite not many people knowing, always thinking of others, and always doing good. I hope all the good you give will come back to you as happiness.</p>
        <p>Although there are still many things we need to fix, terutama aku, I am so grateful that you're still willing to fight together. My love for you is sincere, regardless of anything, because what I love is you and everything about you. I love you with a feeling that cannot be represented by anything in this world.</p>
        <img src="https://i.ibb.co.com/0j5B8psV/panah.gif" class="kitty">
        <div onclick="nextSlideFromSurat()" style="margin-top: 20px; color: #ff4f9a; font-weight: bold; cursor: pointer; padding: 20px;">
          ( tap here to continue baby üíï )
        </div>
        <div style="height: 50px;"></div> 
      </div>
    </div>

    <div class="slide">
      <h4>üéÅWILL THERE BE A PART 2??ü§îüòè</h4>
      <img src="https://i.ibb.co.com/pjDKsXKQ/geol.gif" class="kitty">
      <p>Of course there is baby, part 2 is something more funüíñ</p>
      <p>you have to know baby, with me everything about you i'll celebrate. you deserve all of this baby. so let's see what the next gift is...</p>
    </div>

    <div class="slide">
      <div id="giftContainer">
        <div class="big" style="font-size:90px; cursor:pointer;" onclick="openGoldenTicket(this)">üéÅ</div>
        <img src="https://i.ibb.co.com/s9h7Py21/ayam.gif" class="kitty">
        <p>let's open the gift... mwehehe üéÄ</p>
      </div>
    </div>

    <div class="slide" id="ticketSlide">
      <div id="specialVoucher" class="golden-ticket">
        <div class="ticket-content">
          <div style="font-size: 8px; letter-spacing: 4px; font-weight: bold; opacity: 0.6; color: #5d4037; margin-bottom: 5px;">OFFICIAL INVITATION</div>
          <h2>Golden Ticket</h2>
          <div style="width: 40px; height: 1px; background: #5d4037; margin: 15px 0; opacity: 0.2;"></div>
          <p>This voucher entitles you to</p>
          <div style="font-family: 'Playfair Display', serif; font-size: 18px; color: #5d4037; font-weight: bold; margin-bottom: 20px;">
              A Special Date with Fazi
          </div>
          <div style="text-align: left; font-size: 11px; width: 100%; padding: 15px; background: rgba(255,255,255,0.2); border-radius: 4px; color: #5d4037;">
              <div style="margin-bottom: 8px; display: flex; justify-content: space-between;">
                <span>DATE</span> <b>Sunday, 21 Dec</b>
              </div>
              <div style="margin-bottom: 8px; display: flex; justify-content: space-between;">
                <span>TIME</span> <b>14.00 PM - END</b>
              </div>
              <div style="display: flex; justify-content: space-between;">
                <span>LOCATION</span> <b>Secret Place üå∏</b>
              </div>
          </div>
          <div style="margin-top: 25px; font-size: 9px; border: 1px solid #5d4037; color: #5d4037 !important; padding: 4px 15px; border-radius: 20px; font-weight: bold; letter-spacing: 1px;">
            ONLY NANAN CAN USE
          </div>
        </div>
      </div>
      <p style="font-size: 11px; margin-top: 15px; opacity: 0.7;">( sinii sayang kubisikin rundownnya‚ú® )</p>
    </div>

    <div class="slide scroll-slide">
      <h3>üå∏OUR SPECIAL DAY RUNDOWNüå∏</h3>
      <img src="https://i.ibb.co.com/s9h7Py21/ayam.gif" class="kitty">
      <div style="text-align: left; width: 100%; color: #ff007f;">
        <div style="margin-bottom: 15px; border-left: 3px solid #ff007f; padding-left: 10px;">
          <b>12.00 - come to you üöó</b>
          <p style="font-size: 12px; margin: 2px 0;">Be ready baby, im coming to pick you up.</p>
        </div>
        <div style="margin-bottom: 15px; border-left: 3px solid #ff007f; padding-left: 10px;">
          <b>14.00 - Photobox ‚ú®</b>
          <p style="font-size: 12px; margin: 2px 0;">kita abadikan momen dulu yaa karna ini hari spesiall kamu hihi..</p>
        </div>
        <div style="margin-bottom: 15px; border-left: 3px solid #ff007f; padding-left: 10px;">
          <b>15.00-17.30 - we lunch and rest üåÖ</b>
          <p style="font-size: 12px; margin: 2px 0;">kita nom-nom bareng sambil ngobrol santai.</p>
        </div>
        <div style="margin-bottom: 15px; border-left: 3px solid #ff007f; padding-left: 10px;">
          <b>18.00 - Surprise üïØÔ∏è</b>
          <p style="font-size: 12px; margin: 2px 0;">A special ending for your special day.</p>
        </div>
      </div>
      <p style="font-size: 14px; margin-top: 20px;">Can't wait to see you! üíñ</p>
      <div style="height: 100px;"></div>
    </div>
  </div>
</div>
<div id="slideCounter" style="position: absolute; bottom: 10px; right: 20px; font-size: 12px; color: #ff007f; font-weight: bold; z-index: 1000; background: rgba(255,255,255,0.5); padding: 2px 8px; border-radius: 10px;">
  1 / 9
</div>

<script>
 const slides = document.querySelectorAll('.slide');
  const wrapper = document.getElementById('mainWrapper');
  const slideCounter = document.getElementById('slideCounter');
  let current = 0;

  // Sembunyikan counter di awal
  slideCounter.style.display = 'none';

  function updateProgress() {
    const percent = ((current + 1) / slides.length) * 100;
    document.getElementById('progressBar').style.width = percent + '%';
    slideCounter.innerText = (current + 1) + " / " + slides.length;
    
    // 4. Reset dan pancing ulang animasi tiket setiap kali slide tiket aktif
    const voucher = document.getElementById('specialVoucher');
    if (current === 7) { // Indeks slide tiket
        voucher.classList.remove('show'); // Reset dulu
        setTimeout(() => {
            voucher.classList.add('show'); // Munculkan dengan animasi zoom
        }, 100);
    }
  }

  function openLetter() {
    const bigEmoji = document.querySelector('#letter .big');
    bigEmoji.classList.add('letter-open-anim');
    setTimeout(() => {
      document.getElementById('letter').classList.add('hidden');
      document.getElementById('slides').classList.remove('hidden');
      slideCounter.style.display = 'block';
      updateProgress();
    }, 800);
  }

  function openGoldenTicket(element) {
    element.style.transition = "all 0.5s";
    element.style.transform = "scale(0)";
    element.style.opacity = "0";

    // 2. Efek Konfeti meledak
    for (let i = 0; i < 50; i++) {
      createConfettiCustom(window.innerWidth/2, window.innerHeight/2);
    }
    
    setTimeout(() => {
      nextSlide();
    }, 6000);
  }

  function handleTap(e) {
    const x = e.clientX;
    const y = e.clientY;
    const width = window.innerWidth;
    const height = window.innerHeight;

    // Abaikan tap pada slide pilihan (Ready/No)
    if (current === 2 || current === 3) return;

    // Khusus slide surat (scrollable), tap bawah untuk lanjut
    if (current === 4) {
      if (y > height * 0.7) nextSlide();
      return; 
    }

    // Navigasi kiri-kanan
    if (x < width / 2) {
      prevSlide();
    } else {
      nextSlide();
    }
  }

  function nextSlide() {
    if (current >= slides.length - 1) return;
    slides[current].classList.remove('active');
    current++;
    slides[current].classList.add('active');
    updateProgress();
  }

  function prevSlide() {
    if (current <= 0) return;
    if (current === 4) wrapper.classList.remove('surat-active');
    
    slides[current].classList.remove('active');
    current--;
    slides[current].classList.add('active');
    updateProgress();
  }

  function jumpToSurat() {
    wrapper.classList.add('surat-active');
    slides[current].classList.remove('active');
    current = 4;
    slides[current].classList.add('active');
    updateProgress();
  }

  function nextSlideFromSurat() {
    wrapper.classList.remove('surat-active');
    nextSlide();
  }

  function createConfettiCustom(x, y) {
    const emojis = ['‚ú®', '‚≠ê', 'üé´', 'üíñ', 'üëë'];
    const c = document.createElement('div');
    c.className = 'confetti';
    c.innerText = emojis[Math.floor(Math.random() * emojis.length)];
    c.style.left = x + 'px';
    c.style.top = y + 'px';
    c.style.fontSize = '25px';
    const vX = (Math.random() - 0.5) * 600;
    const vY = (Math.random() - 0.5) * 600 - 200;
    c.animate([
      { transform: 'translate(0,0) scale(0)', opacity: 1 },
      { transform: `translate(${vX}px, ${vY}px) scale(1.5)`, opacity: 1, offset: 0.2 },
      { transform: `translate(${vX * 1.2}px, ${window.innerHeight}px) rotate(720deg)`, opacity: 0 }
    ], { duration: 3000, easing: 'cubic-bezier(0.1, 1, 0.3, 1)' });
    document.body.appendChild(c);
    setTimeout(() => c.remove(), 3000);
  }

  function spawnHeart() {
    const h = document.createElement('div');
    h.className = 'heart';
    h.innerText = '‚ù§';
    h.style.left = Math.random() * 100 + 'vw';
    h.style.fontSize = (Math.random() * 10 + 15) + 'px';
    h.style.animationDuration = (Math.random() * 3 + 3) + 's';
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 6000);
  }
  setInterval(spawnHeart, 400);

</script>
</body>
</html>

